{% extends 'base.html' %}

{% load static %}

{% block title %}
{{ page_title }}
{% endblock title %}

{% block main_content %}
<div id="meals-page" class="split-screen">
    <div class="screen left-screen">
        <div id="meals-section" class="section-wrapper">
            <div class="container">
                <div class="section-heading">
                    <h1>{{ page_title }}</h1>
                </div>
                <p class="section-body-text">
                    <strong class="sub-heading">Plan your weekly meals with confidence!</strong>
                    <br><br>
                    Create meal plans using your saved recipes and pantry items. Stay organized, 
                    reduce food waste, and make meal preparation a breeze.
                </p>

                <!-- Meal planning content -->
                <div id="meal-planning-content" class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="card mb-4">
                                <div class="card-body">
                                    <h5 class="card-title">Selected Meals for Planning</h5>
                                    {% if selected_recipes %}
                                        <ul class="list-group">
                                            {% for recipe in selected_recipes %}
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    <span>
                                                        {{ recipe.title }}
                                                        {% if recipe.cook_time %}
                                                            <small class="text-muted">({{ recipe.cook_time }} min)</small>
                                                        {% endif %}
                                                    </span>
                                                    <a href="{% url 'saved_recipe_detail' recipe.id %}" class="btn btn-info btn-sm">View</a>
                                                </li>
                                            {% endfor %}
                                        </ul>
                                        <p class="mt-3">
                                            <strong>Total selected:</strong> {{ selected_count }}
                                        </p>
                                    {% else %}
                                        <p class="text-muted">No meals selected for planning yet. Go to <a href="{% url 'recipes' %}">Recipes</a> and select meals for your plan.</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="screen right-screen">
        <div class="section-image"></div>
    </div>
</div>
{% endblock main_content %}